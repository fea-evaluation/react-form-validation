{
  "openapi" : "3.0.0",
  "info" : {
    "title" : "eVA Arzt Backend API - Doc",
    "contact" : {
      "email" : "entwicklung@ehealth-tec.de"
    },
    "version" : "2.0.2"
  },
  "servers" : [ {
    "url" : "/"
  } ],
  "paths" : {
    "/api/v2/prescription/create" : {
      "post" : {
        "description" : "Erstellt eine neue Verordnung",
        "operationId" : "api-prescription-create",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/prescription"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "Erstellung der Verordnung erfolgreich"
          },
          "400" : {
            "description" : "Rezept konnte nicht erfolgreich gespeichert werden.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ApiPrescriptionCreateFailedResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components" : {
    "schemas" : {
      "prescription" : {
        "required" : [ "arzt", "erstellungsDatum", "gebuehrenfrei", "gebuehrenpflichtig", "medikamente", "rezeptTyp", "versicherter", "versicherung" ],
        "type" : "object",
        "properties" : {
          "version" : {
            "type" : "string",
            "description" : "Die aktuelle Version der Spezifikation. Aus Rückwärtskompatibilitätsgründen muss für 2.0.0 die Version 1.0.1 stehen bleiben",
            "nullable" : true,
            "enum" : [ "1.0.1" ]
          },
          "pdfPrint" : {
            "type" : "string",
            "description" : "Enthält das Rezept in einem druckfähigen Dokument. Wird aufgrund von der Datengröße nicht an Apotheken übertragen.",
            "format" : "byte",
            "nullable" : true
          },
          "rezeptTyp" : {
            "$ref" : "#/components/schemas/prescriptionType"
          },
          "gebuehrenfrei" : {
            "type" : "boolean",
            "nullable" : false
          },
          "gebuehrenpflichtig" : {
            "type" : "boolean",
            "nullable" : false
          },
          "noctu" : {
            "type" : "boolean",
            "nullable" : true,
            "default" : false
          },
          "sonstige" : {
            "type" : "boolean",
            "nullable" : true,
            "default" : false
          },
          "unfall" : {
            "type" : "boolean",
            "nullable" : true,
            "default" : false
          },
          "arbeitsunfall" : {
            "type" : "boolean",
            "nullable" : true,
            "default" : false
          },
          "bvg" : {
            "type" : "boolean",
            "nullable" : true,
            "default" : false
          },
          "hilfsmittel" : {
            "type" : "boolean",
            "nullable" : true,
            "default" : false
          },
          "p302" : {
            "type" : "boolean",
            "description" : "Das Kennzeichen gibt an, ob es sich um ein §302 Rezept nach SGB2 handelt",
            "nullable" : true,
            "default" : false
          },
          "impfstoff" : {
            "type" : "boolean",
            "nullable" : true,
            "default" : false
          },
          "sprechstundenbedarf" : {
            "type" : "boolean",
            "nullable" : true,
            "default" : false
          },
          "begrPflicht" : {
            "type" : "boolean",
            "nullable" : true,
            "default" : false
          },
          "eigenBeteiligung" : {
            "type" : "boolean",
            "description" : "Eigenbeteiligung im Falle, dass es sich um ein Rezept zur künstlichen Befruchtung nach §27a SGB V handelt",
            "nullable" : true
          },
          "erstellungsDatum" : {
            "type" : "string",
            "description" : "Verordnungsdatum nach dem Format YYYY-MM-DD",
            "nullable" : false
          },
          "erstellungsZeit" : {
            "type" : "string",
            "description" : "Verordnungszeit nach dem Format hh:mm:ss",
            "nullable" : true
          },
          "diagnosen" : {
            "type" : "array",
            "nullable" : true,
            "items" : {
              "type" : "string"
            }
          },
          "versicherter" : {
            "$ref" : "#/components/schemas/versicherter"
          },
          "versicherung" : {
            "$ref" : "#/components/schemas/versicherung"
          },
          "arzt" : {
            "$ref" : "#/components/schemas/arzt"
          },
          "medikamente" : {
            "maxItems" : 3,
            "minItems" : 1,
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/medikament"
            }
          },
          "arbeitsunfallZusatz" : {
            "$ref" : "#/components/schemas/arbeitsunfallZusatz"
          },
          "tRezept" : {
            "$ref" : "#/components/schemas/tRezept"
          },
          "p302Angaben" : {
            "$ref" : "#/components/schemas/p302Angaben"
          }
        }
      },
      "prescriptionType" : {
        "type" : "string",
        "nullable" : false,
        "enum" : [ "STANDARDREZEPT", "BTM", "SPRECHSTUNDENBEDARF", "TREZEPT", "PRIVATREZEPT", "GRUENESREZEPT", "HEILMITTEL", "HILFSMITTEL" ]
      },
      "versicherter" : {
        "required" : [ "adresse", "geburtsdatum", "nachname", "vorname" ],
        "type" : "object",
        "properties" : {
          "titel" : {
            "type" : "string",
            "nullable" : true
          },
          "geschlecht" : {
            "type" : "string",
            "nullable" : true
          },
          "anrede" : {
            "type" : "string",
            "nullable" : true
          },
          "vorname" : {
            "type" : "string",
            "nullable" : false
          },
          "nachname" : {
            "type" : "string",
            "nullable" : false
          },
          "geburtsdatum" : {
            "type" : "string",
            "description" : "Geburtsdatum des Patienten im Format: YYYY-MM-DD.",
            "nullable" : false,
            "example" : "1990-05-12"
          },
          "vorsatzwort" : {
            "type" : "string",
            "description" : "Beispiele hierfür wären: von, de la, etc.",
            "nullable" : true
          },
          "namenszusatz" : {
            "type" : "string",
            "description" : "Beispiele für Namenszusätze: Graf, Ritter, Erbprinz, etc.",
            "nullable" : true
          },
          "mobiltelefonnummer" : {
            "type" : "string",
            "nullable" : true
          },
          "telefonnummer" : {
            "type" : "string",
            "nullable" : true
          },
          "faxnummer" : {
            "type" : "string",
            "nullable" : true
          },
          "eMail" : {
            "type" : "string",
            "nullable" : true
          },
          "adresse" : {
            "$ref" : "#/components/schemas/adresse"
          }
        }
      },
      "adresse" : {
        "required" : [ "hausnummer", "land", "ort", "postleitzahl", "strasse" ],
        "type" : "object",
        "properties" : {
          "strasse" : {
            "type" : "string",
            "nullable" : false
          },
          "hausnummer" : {
            "type" : "string",
            "nullable" : false
          },
          "postleitzahl" : {
            "type" : "string",
            "nullable" : false
          },
          "ort" : {
            "type" : "string",
            "nullable" : false
          },
          "adresszusatz" : {
            "type" : "string",
            "nullable" : true
          },
          "land" : {
            "type" : "string",
            "nullable" : false
          }
        }
      },
      "versicherung" : {
        "required" : [ "besonderePersonenGruppe", "dmpKennzeichnung", "kostenTraegerKennung", "krankenkasseBzwKostentraeger", "versichertenArt", "versichertenId" ],
        "type" : "object",
        "properties" : {
          "krankenkasseBzwKostentraeger" : {
            "type" : "string",
            "description" : "Krankenkassenname der Versicherung des Versicherten, laut Rezeptaufdruck",
            "nullable" : false
          },
          "wopKennzeichen" : {
            "type" : "string",
            "nullable" : true
          },
          "versicherungGueltigAb" : {
            "type" : "string",
            "nullable" : true
          },
          "versicherungGueltigBis" : {
            "type" : "string",
            "description" : "Datum Versichertenkarte gültig bis",
            "nullable" : true
          },
          "kostenTraegerKennung" : {
            "type" : "string",
            "description" : "Krankenkassen-IK der Versicherung",
            "nullable" : false
          },
          "versichertenId" : {
            "type" : "string",
            "nullable" : false
          },
          "versichertenArt" : {
            "type" : "string",
            "description" : "Erste Stelle des Statusfelds. Ehem. Versichertenstatus; siehe Beschreibung eGK.\n * `1` entspricht Mitglied,\n * `3` entspricht familienversichert und\n * `5` entspricht Rentner. Siehe https://www.kbv.de/html/1150_35601.php\n",
            "nullable" : false,
            "enum" : [ "1", "3", "5" ]
          },
          "besonderePersonenGruppe" : {
            "type" : "string",
            "description" : "Zweite und dritte Stelle des Statusfelds. Siehe Beschreibung eGK oder https://www.kbv.de/html/1150_35601.php\n * `00` - keine besondere Personengruppe,\n * `04` - Sozialhilfeempfänger nach § 264 SGB V,\n * `06` - Anspruch auf Versorgung gemäß Gesetz über die Versorgung der Opfer des Krieges / Bundesversorgungsgesetz (BVG),\n * `07` - Sozialversicherungsabkommen, nach Aufwand,\n * `08` - Sozialversicherungsabkommen, pauschal,\n * `09` - Empfänger von Gesundheitsleistungen nach den §§ 4 und 6 des Asylbewerberleistungsgesetzes (AsylbLG)\n",
            "nullable" : false,
            "enum" : [ "00", "04", "06", "07", "08", "09" ]
          },
          "dmpKennzeichnung" : {
            "type" : "string",
            "description" : "Vierte und fünfte Stelle des Statusfeld. siehe Beschreibung eGK oder https://www.kbv.de/html/1150_35601.php\n * `00` = kein DMP-Kennzeichen\n * `01` = Diabetes mellitus Typ 2\n * `02` = Brustkrebs\n * `03` = Koronare Herzkrankheit\n * `04` = Diabetes mellitus Typ 1\n * `05` = Asthma bronchiale\n * `06` = COPD\n * `07`  = Chronische Herzinsuffizienz\n * `08`  = Depression\n * `09`  = Rückenschmerz\n",
            "nullable" : false,
            "enum" : [ "00", "01", "02", "03", "04", "05", "06", "07", "08", "09" ]
          },
          "asvKennzeichnung" : {
            "type" : "string",
            "description" : "evtl. auch ein Boolean",
            "nullable" : true
          },
          "versicherungsTyp" : {
            "type" : "string",
            "description" : "gesetzliche oder private Versicherung",
            "nullable" : true,
            "enum" : [ "GKV", "PKV" ]
          }
        }
      },
      "arzt" : {
        "required" : [ "behandler", "betriebsstaette" ],
        "type" : "object",
        "properties" : {
          "behandler" : {
            "$ref" : "#/components/schemas/behandler"
          },
          "betriebsstaette" : {
            "$ref" : "#/components/schemas/betriebsstaette"
          }
        }
      },
      "behandler" : {
        "required" : [ "arztNummer", "berufsbezeichnung", "nachname", "vorname" ],
        "type" : "object",
        "properties" : {
          "arztNummer" : {
            "type" : "string",
            "description" : "LANR",
            "nullable" : false
          },
          "telefonNummer" : {
            "type" : "string",
            "nullable" : true
          },
          "faxNummer" : {
            "type" : "string",
            "nullable" : true
          },
          "eMail" : {
            "type" : "string",
            "nullable" : true
          },
          "titel" : {
            "type" : "string",
            "nullable" : true
          },
          "anrede" : {
            "type" : "string",
            "nullable" : true
          },
          "vorname" : {
            "type" : "string",
            "nullable" : false
          },
          "nachname" : {
            "type" : "string",
            "nullable" : false
          },
          "berufsbezeichnung" : {
            "type" : "string",
            "nullable" : false,
            "example" : "Internist"
          }
        }
      },
      "betriebsstaette" : {
        "required" : [ "betriebsstaettenNr", "faxNummer", "hausnummer", "land", "ort", "postleitzahl", "strasse", "telefonNummer" ],
        "type" : "object",
        "properties" : {
          "praxisName" : {
            "type" : "string",
            "nullable" : true
          },
          "betriebsstaettenNr" : {
            "type" : "string",
            "nullable" : false
          },
          "asvNr" : {
            "pattern" : "^00\\d{7}$",
            "type" : "string",
            "description" : "Teamnummer des interdisziplinären Teams (Ambulante spezialfachärztliche Versorgung - kruz ASV). 9-Stellig, also mit vorangestellten `00`.",
            "nullable" : true
          },
          "strasse" : {
            "type" : "string",
            "nullable" : false
          },
          "hausnummer" : {
            "type" : "string",
            "nullable" : false
          },
          "adresszusatz" : {
            "type" : "string",
            "nullable" : true
          },
          "postleitzahl" : {
            "type" : "string",
            "nullable" : true
          },
          "ort" : {
            "type" : "string",
            "nullable" : false
          },
          "telefonNummer" : {
            "type" : "string",
            "nullable" : false
          },
          "faxNummer" : {
            "type" : "string",
            "nullable" : false
          },
          "eMail" : {
            "type" : "string",
            "nullable" : true
          },
          "land" : {
            "type" : "string",
            "nullable" : false
          }
        }
      },
      "medikament" : {
        "required" : [ "autidem", "vZeile" ],
        "type" : "object",
        "properties" : {
          "position" : {
            "type" : "string",
            "description" : "Positionsnummer des Artikels bzw. der Rezeptposition auf dem physikalischen Muster16",
            "nullable" : true
          },
          "packungsAnzahl" : {
            "type" : "string",
            "description" : "Anzahl der abgegebenen Packungen des dispensierten Arzneimittels",
            "nullable" : true
          },
          "stueckZahl" : {
            "type" : "string",
            "description" : "Anzahl der abgegebenen Stück des dispensierten Arzneimittels",
            "nullable" : true
          },
          "zeitraum" : {
            "type" : "string",
            "description" : "Versorgungszeitraum des abgegebenen Arzneimittels",
            "nullable" : true
          },
          "dauer" : {
            "type" : "string",
            "description" : "Dauer des Versorgungszeitraums in Tage, Wochen oder Monaten (siehe unten)",
            "nullable" : true
          },
          "zeiteinheit" : {
            "type" : "string",
            "nullable" : true,
            "enum" : [ "TAGE", "WOCHEN", "MONATE" ]
          },
          "pzn" : {
            "type" : "string",
            "nullable" : true
          },
          "hilfsmittelNr" : {
            "type" : "string",
            "description" : "Hilfsmittelpositionsnummer des dispensierten Hilfsmittels",
            "nullable" : true
          },
          "abrechnungsNr" : {
            "type" : "string",
            "description" : "Abrechnungsnummer zum dispensierten Arzneimittel",
            "nullable" : true
          },
          "handelsnameOderFreitext" : {
            "type" : "string",
            "nullable" : true
          },
          "form" : {
            "type" : "string",
            "nullable" : true
          },
          "einheit" : {
            "type" : "string",
            "nullable" : true
          },
          "menge" : {
            "type" : "string",
            "nullable" : true
          },
          "hinweis" : {
            "type" : "string",
            "nullable" : true
          },
          "grund" : {
            "type" : "string",
            "nullable" : true
          },
          "autidem" : {
            "type" : "boolean",
            "nullable" : false
          },
          "vZeile" : {
            "type" : "string",
            "description" : "Angabe des Inhalts der Verordnungszeile auf dem Rezept (1. Zeile)",
            "nullable" : false
          },
          "vZeile2" : {
            "type" : "string",
            "description" : "Angabe des Inhalts der Verordnungszeile auf dem Rezept (2. Zeile)",
            "nullable" : true
          },
          "wirkstoffe" : {
            "type" : "array",
            "nullable" : true,
            "items" : {
              "$ref" : "#/components/schemas/wirkstoff"
            }
          },
          "dosierung" : {
            "$ref" : "#/components/schemas/dosierung"
          }
        }
      },
      "wirkstoff" : {
        "type" : "object",
        "properties" : {
          "typ" : {
            "type" : "string",
            "nullable" : true,
            "enum" : [ "HAUPTWIRKSTOFF", "NEBENWIRKSTOFF" ]
          },
          "wirkstoffNr" : {
            "type" : "string",
            "description" : "Wirkstoffnummer zum dispensierten Arzneimittel",
            "nullable" : true
          },
          "name" : {
            "type" : "string",
            "nullable" : true
          },
          "staerke" : {
            "type" : "string",
            "nullable" : true
          }
        }
      },
      "dosierung" : {
        "type" : "object",
        "properties" : {
          "morgens" : {
            "type" : "string",
            "nullable" : true
          },
          "mittags" : {
            "type" : "string",
            "nullable" : true
          },
          "abends" : {
            "type" : "string",
            "nullable" : true
          },
          "nachts" : {
            "type" : "string",
            "nullable" : true
          },
          "sonstigeDosierHinweise" : {
            "type" : "string",
            "nullable" : true
          }
        },
        "nullable" : true
      },
      "arbeitsunfallZusatz" : {
        "type" : "object",
        "properties" : {
          "unfalltag" : {
            "type" : "string",
            "nullable" : true
          },
          "unfallbetriebOderArbeitgebernummer" : {
            "type" : "string",
            "nullable" : true
          }
        },
        "nullable" : true
      },
      "tRezept" : {
        "type" : "object",
        "properties" : {
          "tSicherheitsbestimmung" : {
            "type" : "boolean",
            "nullable" : true
          },
          "tFachinformation" : {
            "type" : "boolean",
            "nullable" : true
          },
          "tInLabel" : {
            "type" : "boolean",
            "nullable" : true
          },
          "tOffLabel" : {
            "type" : "boolean",
            "nullable" : true
          }
        }
      },
      "p302Angaben" : {
        "type" : "object",
        "properties" : {
          "versorgungVon" : {
            "type" : "string",
            "nullable" : true
          },
          "versorgungBis" : {
            "type" : "string",
            "nullable" : true
          },
          "hilfsmittelKennzeichen" : {
            "type" : "string",
            "nullable" : true
          },
          "genehmigungsKennzeichen" : {
            "type" : "string",
            "nullable" : true
          },
          "genehmigungsDatum" : {
            "type" : "string",
            "nullable" : true
          },
          "genehmigungsArt" : {
            "type" : "string",
            "nullable" : true
          },
          "kennzProduktBesonderheiten" : {
            "type" : "string",
            "nullable" : true
          },
          "inventarNummer" : {
            "type" : "string",
            "nullable" : true
          },
          "legs" : {
            "type" : "string",
            "description" : "LEGS – Leistungserbringergruppenschlüssel entspricht dem ACTK, der sich aus dem Abrechnungscode (AC) und dem Tarifkennzeichen (TK) der Preisvereinbarung zusammensetzt. Der LEGS ist daher häufig in den einzelnen Hilfsmittelverträgen hinterlegt",
            "nullable" : true
          }
        }
      },
      "ApiPrescriptionCreateFailedResponse" : {
        "title" : "ApiPrescriptionCreateFailedResponse",
        "type" : "object",
        "properties" : {
          "message" : {
            "type" : "string",
            "description" : "Falls vorhanden, liefert den Grund warum die Anfrage nicht erfolgreich war."
          },
          "exception" : {
            "type" : "string",
            "description" : "If provided, contains the reason, why the request failed",
            "example" : "Hashsum is not correct"
          }
        }
      }
    }
  }
}